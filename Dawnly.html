<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Downly â€” All-in-One Downloader</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;} 
.glass{backdrop-filter: blur(6px);}
</style>
</head>
<body class="bg-gray-50 text-gray-800">

<!-- NAV -->
<header class="bg-white shadow-sm sticky top-0 z-50">
  <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <img src="logo.png" alt="Downly Logo" class="w-10 h-10 rounded-full object-cover shadow" />
      <div>
        <h1 class="text-lg font-semibold">Downly</h1>
        <p class="text-xs text-gray-500">Fast â€¢ Secure â€¢ High quality downloads</p>
      </div>
    </div>
  </div>
</header>

<!-- HERO -->
<main class="max-w-6xl mx-auto px-6 py-12">
  <section class="bg-gradient-to-r from-blue-600 to-green-500 text-white p-8 rounded-xl shadow-lg text-center">
    <h2 class="text-4xl md:text-5xl font-bold mb-3">Download Videos & Audio Easily</h2>
    <p class="opacity-90 mb-6 text-lg">Paste a link from YouTube, Instagram, Facebook or Twitter and download your favorite videos in high quality instantly.</p>
    
    <!-- INPUT CARD -->
    <div class="bg-white rounded-lg p-4 text-gray-800 shadow-md flex flex-col md:flex-row gap-3 items-stretch justify-center max-w-2xl mx-auto">
      <input id="inputUrl" type="text" placeholder="Paste your video URL here..." class="flex-1 px-4 py-3 rounded-md border border-gray-200 focus:outline-none" />
      <button id="downloadBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md font-semibold">Download</button>
    </div>

    <div id="resultArea" class="mt-4"></div>
  </section>

  <!-- Why Choose Downly -->
  <section class="mt-12 grid md:grid-cols-3 gap-6 text-center">
    <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition">
      <div class="text-3xl mb-2">âš¡</div>
      <h3 class="font-semibold mb-2">Fast Downloads</h3>
      <p class="text-sm text-gray-600">Get your video or audio quickly with no waiting time.</p>
    </div>
    <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition">
      <div class="text-3xl mb-2">ðŸ”—</div>
      <h3 class="font-semibold mb-2">Multiple Platforms</h3>
      <p class="text-sm text-gray-600">Supports YouTube, Instagram, Facebook, Twitter and more.</p>
    </div>
    <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition">
      <div class="text-3xl mb-2">ðŸ”’</div>
      <h3 class="font-semibold mb-2">Secure & Temporary</h3>
      <p class="text-sm text-gray-600">Your downloads are safe and stored temporarily for security.</p>
    </div>
  </section>

  <!-- How It Works -->
  <section class="mt-12 bg-white p-6 rounded-lg shadow">
    <h3 class="text-xl font-semibold mb-4 text-center">How Downly Works</h3>
    <ol class="list-decimal pl-6 text-gray-700 space-y-2">
      <li>Paste a video URL into the input box.</li>
      <li>Backend automatically detects the video source.</li>
      <li>Choose quality (if multiple options are available).</li>
      <li>Click Download and get your file instantly.</li>
    </ol>
  </section>

  <!-- FAQ -->
  <section class="mt-12 bg-white p-6 rounded-lg shadow">
    <h3 class="text-xl font-semibold mb-4 text-center">FAQ</h3>
    <div class="space-y-2">
      <details class="border rounded p-2"><summary class="cursor-pointer font-medium">Is Downly free?</summary><p class="mt-1 text-sm text-gray-600">Yes, you can download videos without paying anything.</p></details>
      <details class="border rounded p-2"><summary class="cursor-pointer font-medium">Can I download copyrighted content?</summary><p class="mt-1 text-sm text-gray-600">Please download only content you own or have permission to download.</p></details>
      <details class="border rounded p-2"><summary class="cursor-pointer font-medium">Which sites are supported?</summary><p class="mt-1 text-sm text-gray-600">YouTube, Instagram, Facebook, Twitter and more.</p></details>
    </div>
  </section>

  <!-- Footer -->
  <footer class="mt-12 text-center text-gray-500 text-sm">
    Â© 2025 Downly â€¢ Built for fast, simple downloads
  </footer>
</main>

<!-- JS CODE INTEGRATED -->
<script>
const input = document.getElementById('inputUrl');
const downloadBtn = document.getElementById('downloadBtn');
const resultArea = document.getElementById('resultArea');

downloadBtn.addEventListener('click', async () => {
  const url = input.value.trim();
  if(!url){ alert('Please paste a video URL.'); return; }

  resultArea.innerHTML = `<div class="mt-4 p-4 bg-white rounded shadow text-sm">Processing... <progress class="w-full" value="0" max="100"></progress></div>`;

  try {
    const resp = await fetch('/api/download', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({ url })
    });
    const data = await resp.json();

    if(data.status === 'ready'){
      let linksHtml = '';
      data.qualities.forEach(q => {
        linksHtml += `<div class="mt-2"><a class="text-blue-600 underline" href="${q.url}" target="_blank">${q.label}</a></div>`;
      });
      resultArea.innerHTML = `<div class="p-4 bg-white rounded shadow text-sm">Your file is ready:<br>${linksHtml}</div>`;
    } else {
      resultArea.innerHTML = `<div class="p-4 bg-white rounded shadow text-sm">Status: ${data.status}</div>`;
    }
  } catch(err){
    resultArea.innerHTML = `<div class="mt-4 p-4 bg-red-50 text-red-700 rounded">Error: ${err.message}</div>`;
  }
});
</script>

</body>
</html>
